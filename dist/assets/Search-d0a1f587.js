import{a as w,S}from"./axios-8f551a67.js";import{H as x}from"./HorizontalItemList-36d617c1.js";import{_ as p,f as s,c as l,p as k,j as q,g as v,d as I,r as _,w as D,o as B,a as i,h as N,u as C}from"./index-f7f13035.js";const $={},f=t=>(k("data-v-aca28a57"),t=t(),q(),t),b={class:"no-data flex-col items-center"},z=f(()=>v("span",{class:"bx bx-tv no-data__icon"},null,-1)),H=f(()=>v("span",{class:"no-data__text"},"No data found",-1)),R=[z,H];function j(t,n){return s(),l("div",b,R)}const E=p($,[["render",j],["__scopeId","data-v-aca28a57"]]),L={key:1,class:"list-container"},M=I({__name:"Search",setup(t){const n=N(),m=C(),c=_(),r=_(),d=_(!0),g=a=>a.map(e=>{var o,h;return{id:e.show.id,name:e.show.name??"-",genres:e.show.genres,rating:(o=e.show.rating)==null?void 0:o.average,image:((h=e.show.image)==null?void 0:h.original)??void 0,siteUrl:e.show.officialSite}}),u=async()=>{try{const{data:a}=await w.get(`https://api.tvmaze.com/search/shows?q=${c.value}`);a&&(r.value=g(a))}catch(a){console.log(a)}finally{d.value=!1}},y=a=>{m.push({name:"detail",params:{id:a}})};return D(()=>n.query.q,()=>{var a;c.value=(a=n.query.q)==null?void 0:a.toString(),u()}),B(()=>{var a;c.value=(a=n.query.q)==null?void 0:a.toString(),u()}),(a,e)=>{var o;return s(),l("div",null,[d.value?(s(),i(S,{key:0})):(s(),l("div",L,[((o=r.value)==null?void 0:o.length)!==0?(s(),i(x,{key:0,items:r.value,onClick:y,"is-search-page":!0},null,8,["items"])):(s(),i(E,{key:1}))]))])}}});const A=p(M,[["__scopeId","data-v-a5e01296"]]);export{A as default};
