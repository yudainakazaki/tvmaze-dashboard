import{d as v,c as y,a as t,t as o,b as w,o as i,p as k,e as x,_ as f,r as g,f as S,g as I,u as B,h as s,I as h,R as D,i as $,n as C,j as V,S as M}from"./index-e1344d70.js";const N=n=>(k("data-v-50aac4c2"),n=n(),x(),n),R={key:0,class:"btn"},U=["href"],H={class:"btn__icon"},L=N(()=>t("span",{class:"bx bx-link-external btn__label"},null,-1)),T=v({__name:"UrlBtn",props:{text:null,url:null},setup(n){return(_,a)=>n.url?(i(),y("div",R,[t("a",{href:n.url,target:"_blank"},[t("span",H,o(n.text),1),L],8,U)])):w("",!0)}});const j=f(T,[["__scopeId","data-v-50aac4c2"]]),z={key:1,class:"detail"},A={class:"detail__name"},E={class:"detail__body"},q={class:"detail__body__image"},F=["src","alt"],G={class:"detail__body__info"},J={class:"detail__body__info__network"},K={class:"detail__body__info__btns"},O=["innerHTML"],P=v({__name:"Detail",setup(n){const _=V(),a=g(),c=g(!0),p=e=>{var l,r,u,d,m;return{id:e.id,name:e.name,genres:e.genres,language:e.language??"-",rating:(l=e.rating)==null?void 0:l.average,year:((r=e.premiered)==null?void 0:r.split("-")[0])??"-",officialSite:e.officialSite,network:e.network?{name:e.network.name,country:((u=e.network.country)==null?void 0:u.name)??"-"}:{name:e.webChannel.name,officialSite:e.webChannel.officialSite,country:((d=e.webChannel.country)==null?void 0:d.name)??"-"},image:(m=e.image)==null?void 0:m.original,summary:e.summary}},b=async()=>{try{const{data:e}=await $.get(`https://api.tvmaze.com/shows/${_.params.id}`);e&&(a.value=p(e))}catch(e){console.error(e)}finally{c.value=!1}};return S(()=>{b()}),(e,l)=>c.value?(i(),I(M,{key:0})):(i(),y("div",z,[t("div",A,[t("h1",null,o(a.value.name),1)]),t("div",E,[t("div",q,[t("img",{src:a.value.image||B(C),alt:a.value.name,class:"detail__body__image__img"},null,8,F)]),t("div",G,[t("div",J,[t("h2",null,o(a.value.network.name)+" ("+o(a.value.year)+")",1)]),s(h,{items:[a.value.language,a.value.network.country]},null,8,["items"]),s(h,{items:a.value.genres},null,8,["items"]),t("div",K,[s(D,{rating:a.value.rating},null,8,["rating"]),s(j,{text:"Visit website",url:a.value.officialSite},null,8,["url"])]),t("div",{innerHTML:a.value.summary,class:"detail__body__info__summary"},null,8,O)])])]))}});const W=f(P,[["__scopeId","data-v-8aa52a7a"]]);export{W as default};
