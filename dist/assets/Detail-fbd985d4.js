import{d as h,c as f,g as a,t as o,h as w,o as _,p as k,i as S,_ as v,j as m,k as x,l as I,e as B,b as D,f as s,m as $}from"./index-7333c7ef.js";import{I as g,R as C,n as V,S as M}from"./no-image-5327e7af.js";const N=n=>(k("data-v-50aac4c2"),n=n(),S(),n),R={key:0,class:"btn"},U=["href"],H={class:"btn__icon"},L=N(()=>a("span",{class:"bx bx-link-external btn__label"},null,-1)),T=h({__name:"UrlBtn",props:{text:null,url:null},setup(n){return(t,l)=>n.url?(_(),f("div",R,[a("a",{href:n.url,target:"_blank"},[a("span",H,o(n.text),1),L],8,U)])):w("",!0)}});const j=v(T,[["__scopeId","data-v-50aac4c2"]]),z={key:1,class:"detail"},A={class:"detail__name"},E={class:"detail__body"},q={class:"detail__body__image"},F=["src","alt"],G={class:"detail__body__info"},J={class:"detail__body__info__network"},K={class:"detail__body__info__btns"},O=["innerHTML"],P=h({__name:"Detail",setup(n){const t=m(),l=m(!0),y=x(),p=e=>{var i,c,r,u,d;return{id:e.id,name:e.name,genres:e.genres,language:e.language??"-",rating:(i=e.rating)==null?void 0:i.average,year:((c=e.premiered)==null?void 0:c.split("-")[0])??"-",officialSite:e.officialSite,network:e.network?{name:e.network.name,country:((r=e.network.country)==null?void 0:r.name)??"-"}:{name:e.webChannel.name,officialSite:e.webChannel.officialSite,country:((u=e.webChannel.country)==null?void 0:u.name)??"-"},image:(d=e.image)==null?void 0:d.original,summary:e.summary}},b=async()=>{try{const{data:e}=await $.get(`https://api.tvmaze.com/shows/${y.getShowId}`);e&&(t.value=p(e))}catch(e){console.error(e)}finally{l.value=!1}};return I(()=>{b()}),(e,i)=>l.value?(_(),B(M,{key:0})):(_(),f("div",z,[a("div",A,[a("h1",null,o(t.value.name),1)]),a("div",E,[a("div",q,[a("img",{src:t.value.image||D(V),alt:t.value.name,class:"detail__body__image__img"},null,8,F)]),a("div",G,[a("div",J,[a("h2",null,o(t.value.network.name)+" ("+o(t.value.year)+")",1)]),s(g,{items:[t.value.language,t.value.network.country]},null,8,["items"]),s(g,{items:t.value.genres},null,8,["items"]),a("div",K,[s(C,{rating:t.value.rating},null,8,["rating"]),s(j,{text:"Visit website",url:t.value.officialSite},null,8,["url"])]),a("div",{innerHTML:t.value.summary,class:"detail__body__info__summary"},null,8,O)])])]))}});const X=v(P,[["__scopeId","data-v-e18f5893"]]);export{X as default};
